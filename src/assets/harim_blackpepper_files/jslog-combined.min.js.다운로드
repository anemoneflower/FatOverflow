!function(e){"use strict";var n=function(n,t,r){var o={major:1,minor:2,patch:2},i=n,a=t||"production",c=r||{},u={local:"",develop:"jslog-dev.coupang.com",integration:"jslog.coupang.com",production:"jslog.coupang.com"},d=[],s=this.onerror=function(e,n,t,r,i){try{var c={encoder:"jserror",extend:{line:t,file:n,url:document.location.href,agent:navigator.userAgent},message:e,time:(new Date).getTime()};r&&(c.extend.column=r),i&&(c.extend.stack=i.stack),v(c);try{var u=T();for(var d in u)c.extend[d]=u[d];if(l(c))return v("The log will be filtered out"),!1}catch(e){v(e)}return x({type:"POST",url:h(a)+"/v"+o.major+"/report",data:c}),!1}catch(e){}},l=function(e){var n=d.concat(window.jslogConfig&&window.jslogConfig.filterRules||[]);if(!n||!n.length)return!1;for(var t=null,r=0;r<n.length;r++)if(t=n[r],f(e,t))return!!t.filtered||(g(e,t.add),!1);return!1},f=function(e,n){if(!n||!n.match)return!1;var t=n.match;if(m(t))return t(e);var r={message:e.message,agent:e.extend.agent,url:e.extend.url,file:e.extend.file||""};for(var o in t){var i=t[o],a=r[o]||"";if(p(i)){if(!i.test(a))return!1}else if(a.indexOf(i)<0)return!1}return!0},g=function(e,n){if(n)for(var t in n)e.extend[t]=n[t]||""},m=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},p=function(e){return e instanceof RegExp},v=function(e){"local"!=a&&"develop"!=a||!window.console||console.log(e)},h=function(e){return[document.location.protocol,u[e]].join("//")},j=function(e,n,t,r){var o=null,i=n;return r&&(i=encodeURIComponent(r+"["+i+"]")),t&&null!=t[n]&&(o=i+"="+encodeURIComponent(t[n]),e[e.length]=o),o},w=function(e){var n=[];n[n.length]="project_name="+encodeURIComponent(i);var t=["message","time","encoder"];for(var r in t)j(n,t[r],e);var o=y([e.extend,c]);for(var a in o)j(n,a,o,"extend");return v("encoded"),v(n.join("&")),n.join("&")},y=function(e){for(var n={},t=0;t<e.length;t++){var r=e[t];if(r)for(var o in r)n[o]=r[o]}return n},x=function(e){var n=e.data,t=function(){if("XDomainRequest"in window&&null!==window.XDomainRequest)return new XDomainRequest;if(window.XMLHttpRequest)return new XMLHttpRequest;if(!window.ActiveXObject)return null;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}}();t.setRequestHeader?(t.open(e.type,e.url,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(w(n))):(t.open(e.type,[e.url,[w(n),"rdx=true"].join("&")].join("?"),!0),t.send())},R=this.getCookieValue=function(e){var n=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)");return n?n.pop():""},T=function(){var e={},n=R("PCID");if(n&&(e.pcid=n),(n=R("member_srl"))&&(e.memberSrl=n),n=R("coupang-app"))try{C(e,n)}catch(e){v(e)}return e},C=function(e,n){var t=decodeURIComponent(n).split("|");e.osType=t[1],e.osVersion=t[2],e.appVersion=t[3],e.uuid=t[6],e.device=t[8],e.network=t[16]};this.enableTrap=function(){e.onerror=s,v("enable auto error trap")},this.addFilterRules=function(e){if(e&&e.length)for(var n=0;n<e.length;n++)d.push(e[n])},this.report=function(e,n){try{null!=n&&null!=n||(n={});var t=T();for(var r in n)t[r]=n[r];n.agent=navigator.userAgent;var i={encoder:"jserror",extend:t,message:e,time:(new Date).getTime()};v(i),x({type:"POST",url:h(a)+"/v"+o.major+"/report",data:i})}catch(e){throw e}},this.version="v"+[o.major,o.minor,o.patch].join("."),v("initialized jslog "+this.version+" for "+i+' in "'+a+'".')};"function"==typeof define&&define.amd?define(function(){return n}):"undefined"!=typeof module&&"object"==typeof exports?module.exports=n:e.JsLog=n}("undefined"!=typeof window?window:this),window.jslogConfig={filterRules:[{match:{message:"document.getElementsByClassName.ToString is not a function",agent:/SamsungBrowser/i},filtered:!0},{match:{message:"Cannot read property 'checkDomStatus' of undefined",agent:/NAVER/i},filtered:!0},{match:{file:/require.+min\.js$/},add:{category:"thirdparty",origin:"requirejs"}},{match:{file:/fbevents\.js$/},add:{category:"thirdparty",origin:"fbeventsjs"}},{match:{file:/sockjs\.min\.js$/},add:{category:"thirdparty",origin:"sockjs"}},{match:{file:/video\.min\.js$/},add:{category:"thirdparty",origin:"videojs"}},{match:{file:/jquery.+\.min\.js$/},add:{category:"thirdparty",origin:"jqueryjs"}},{match:{agent:/NAVER/i},add:{origin:"naver"}},{match:{agent:/MSIE\s(6|7|8)\.\d/i},add:{origin:"legacyie"}}]};